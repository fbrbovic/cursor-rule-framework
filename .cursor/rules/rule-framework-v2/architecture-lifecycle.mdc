---
description: Before ANY architecture file creation/modification, during epic BLUEPRINT stages, when implementing architectural changes
alwaysApply: false
---

# Architecture Lifecycle Framework - AI Operations v3.0

## ğŸ¤– AI CONTEXT DESCRIPTION
**WHEN TO USE**: Before ANY architecture file creation/modification, during epic BLUEPRINT stages, when implementing architectural changes
**MANDATORY TRIGGERS**: Epic step BLUEPRINT stage, CONSTRUCT stage architecture updates, VALIDATE stage compliance checks
**PRIMARY FUNCTION**: Enforce architecture standards, file organization, epic integration compliance
**INTEGRATION**: Automatic execution during epic lifecycle stages via epic-lifecycle-rules.mdc

## ğŸš¨ MANDATORY CURSOR-RULES-MANAGEMENT COMPLIANCE

### **CRITICAL REQUIREMENT: ALL MDC File Operations MUST Follow cursor-rules-management.mdc**
- âœ… **BEFORE ANY FILE OPERATION**: Execute cursor-rules-management.mdc compliance procedures
- âœ… **FILE CREATION**: Use cursor-rules-management.mdc CREATE_MDC_FILE operation exclusively
- âœ… **FILE UPDATES**: Use cursor-rules-management.mdc UPDATE_MDC_FILE operation exclusively  
- âœ… **METADATA REQUIREMENTS**: Follow cursor-rules-management.mdc metadata templates exactly
- âœ… **CURSOR IDE COMPATIBILITY**: Ensure metadata starts line 1, proper --- delimiters, YAML format

### **Integration Points with cursor-rules-management.mdc**
- **CREATE_ARCHITECTURE_FILE** â†’ **MANDATORY**: cursor-rules-management.mdc CREATE_MDC_FILE
- **UPDATE_ARCHITECTURE_FILE** â†’ **MANDATORY**: cursor-rules-management.mdc UPDATE_MDC_FILE  
- **VALIDATE_ARCHITECTURE_COMPLIANCE** â†’ **MANDATORY**: cursor-rules-management.mdc validation checklist
- **ERROR_HANDLING** â†’ **MANDATORY**: cursor-rules-management.mdc auto-repair procedures

### **Zero Tolerance Policy**
- **MDC file operations without cursor-rules-management.mdc compliance are FORBIDDEN**
- **Cursor IDE requirements are NON-NEGOTIABLE** (metadata format, file location)
- **Architecture file corruption prevention through mandatory compliance**

## ğŸš¨ MANDATORY AI TRIGGERS (AUTO-EXECUTE)

### **TRIGGER_EPIC_BLUEPRINT_STAGE** (ALWAYS EXECUTE)
```
CONDITION: Epic step enters BLUEPRINT stage
OPERATION: Architecture consultation mandatory
LOCATION: Current epic file step stage checklist
REQUIRED_ACTIONS:
  1. Read architecture/core/patterns.mdc (MANDATORY)
  2. Consult domain-specific architecture files based on epic step scope
  3. Review architecture/decisions/ for relevant ADRs
  4. Document architecture consultation in epic step stage checkboxes
  5. Identify architecture changes needed for step implementation
STATUS: Update epic progress table - BLUEPRINT stage architecture consultation complete
```

### **TRIGGER_EPIC_CONSTRUCT_STAGE** (ALWAYS EXECUTE)
```
CONDITION: Epic step in CONSTRUCT stage AND architectural changes planned
OPERATION: Update architecture files during implementation
LOCATION: Architecture domain files specified in epic step
REQUIRED_ACTIONS:
  1. Update relevant architecture domain files with new patterns/decisions
  2. Follow file size limits (500 lines max, 300 for indexes)
  3. Include proper metadata headers in any new architecture files
  4. Update domain index files if new files created
  5. Maintain cross-reference integrity
STATUS: Update epic progress table - CONSTRUCT stage architecture updates complete
```

### **TRIGGER_EPIC_VALIDATE_STAGE** (ALWAYS EXECUTE)
```
CONDITION: Epic step enters VALIDATE stage
OPERATION: Verify architecture compliance and documentation
LOCATION: Architecture files and epic step documentation
REQUIRED_ACTIONS:
  1. Verify all architecture changes documented correctly
  2. Validate file size compliance (â‰¤500 lines)
  3. Check cross-reference integrity
  4. Confirm architecture impact documented in epic step
  5. Update architecture changelog if needed
STATUS: Update epic progress table - VALIDATE stage architecture compliance verified
```

### **TRIGGER_EPIC_STEP_COMPLETION** (ALWAYS EXECUTE)
```
CONDITION: Epic step marked COMPLETED
OPERATION: Archive architecture changes and update documentation
LOCATION: Architecture domain files and epic registry
REQUIRED_ACTIONS:
  1. Finalize all architecture file updates from step
  2. Update architecture domain indexes with any new files
  3. Document architectural evolution in architecture/decisions/
  4. Verify epic step architecture impact is accurately documented
  5. Prepare architecture context for next epic step
STATUS: Update epic registry - Architecture changes documented for completed step
```

## ğŸ“ AI NAVIGATION MAP (FAST LOOKUP)

### **Domain Routing Table**
```
CORE_PATTERNS â†’ architecture/core/patterns.mdc
DECISIONS â†’ architecture/decisions/index.mdc
WORKFLOWS â†’ architecture/workflows/index.mdc

FRONTEND â†’ architecture/frontend/index.mdc
BACKEND â†’ architecture/backend/index.mdc
MOBILE â†’ architecture/mobile/index.mdc
DESKTOP â†’ architecture/desktop/index.mdc
DATABASE â†’ architecture/database/index.mdc
API_SERVICES â†’ architecture/api/index.mdc

INFRASTRUCTURE â†’ architecture/infrastructure/index.mdc
DEVOPS â†’ architecture/infrastructure/devops.mdc
SECURITY â†’ architecture/security/index.mdc
INTEGRATION â†’ architecture/integration/index.mdc
TESTING â†’ architecture/testing/index.mdc
PERFORMANCE â†’ architecture/performance/index.mdc
MONITORING â†’ architecture/monitoring/index.mdc
ANALYTICS â†’ architecture/analytics/index.mdc
```

### **File Creation Decision Tree**
```
NEW_ARCHITECTURE_FILE_NEEDED?
â”œâ”€ PLATFORM SPECIFIC
â”‚   â”œâ”€ Web frontend â†’ architecture/frontend/[category].mdc
â”‚   â”œâ”€ Server backend â†’ architecture/backend/[category].mdc
â”‚   â”œâ”€ Mobile app â†’ architecture/mobile/[platform].mdc
â”‚   â””â”€ Desktop app â†’ architecture/desktop/[platform].mdc
â”œâ”€ DATA & SERVICES
â”‚   â”œâ”€ Database work â†’ architecture/database/[db-type].mdc
â”‚   â”œâ”€ API design â†’ architecture/api/[service-type].mdc
â”‚   â””â”€ Integration â†’ architecture/integration/[system].mdc
â”œâ”€ OPERATIONS & QUALITY
â”‚   â”œâ”€ Infrastructure â†’ architecture/infrastructure/[component].mdc
â”‚   â”œâ”€ Security â†’ architecture/security/[domain].mdc
â”‚   â”œâ”€ Testing â†’ architecture/testing/[test-type].mdc
â”‚   â”œâ”€ Performance â†’ architecture/performance/[optimization].mdc
â”‚   â””â”€ Monitoring â†’ architecture/monitoring/[metrics].mdc
â”œâ”€ CROSS-CUTTING
â”‚   â”œâ”€ Core pattern â†’ architecture/core/[topic].mdc
â”‚   â”œâ”€ Major decision â†’ architecture/decisions/[topic]-decisions.mdc
â”‚   â”œâ”€ Workflow integration â†’ architecture/workflows/[process].mdc
â”‚   â””â”€ Analytics â†’ architecture/analytics/[tracking].mdc
```

## ğŸ”„ ARCHITECTURE FILE OPERATIONS (AI EXECUTION)

### **CREATE_ARCHITECTURE_FILE**
```
PRECONDITIONS:
  1. File size projection â‰¤ 500 lines (300 for indexes)
  2. Proper domain placement identified
  3. File name follows naming convention
  4. MANDATORY: cursor-rules-management.mdc compliance verified

EXECUTION_STEPS:
  1. MANDATORY: Execute cursor-rules-management.mdc CREATE_MDC_FILE operation
  2. Create file at .cursor/rules/rule-framework-v2/architecture/[domain]/[file].mdc
  3. Use architecture rule template from cursor-rules-management.mdc exactly
  4. MANDATORY: Include AI CONTEXT DESCRIPTION section with all four fields
  5. Structure content following domain patterns
  6. Update relevant domain index file
  7. Add cross-references as needed

VALIDATION:
  1. MANDATORY: cursor-rules-management.mdc compliance checklist completed
  2. File location: .cursor/rules/rule-framework-v2/ (verified)
  3. Metadata header starts on line 1 with --- (verified)
  4. YAML format and required fields present (verified)
  5. MANDATORY: AI CONTEXT DESCRIPTION header with all four fields present
  6. File size within limits
  7. Domain index updated
  8. Cross-references valid

POST_ACTIONS:
  1. Update epic step architecture impact documentation
  2. Log architecture file creation in epic progress tracking
  3. MANDATORY: Confirm Cursor IDE compatibility via cursor-rules-management.mdc
```

### **UPDATE_ARCHITECTURE_FILE**
```
PRECONDITIONS:
  1. File exists and is identified
  2. Changes align with epic step requirements
  3. File size will remain â‰¤ 500 lines after update
  4. MANDATORY: cursor-rules-management.mdc compliance required

EXECUTION_STEPS:
  1. MANDATORY: Execute cursor-rules-management.mdc UPDATE_MDC_FILE operation
  2. Load current file content and preserve metadata exactly
  3. Apply updates ONLY below second --- line (cursor-rules-management.mdc requirement)
  4. Follow established patterns from cursor-rules-management.mdc
  5. Validate cross-references remain intact
  6. Verify AI Instructions remain accurate

VALIDATION:
  1. MANDATORY: cursor-rules-management.mdc UPDATE_MDC_FILE validation completed
  2. Metadata preservation verified (no changes to header)
  3. Content updates only below second --- line (verified)
  4. File size within limits
  5. Content consistency maintained
  6. Cross-references functional
  7. Changes properly documented

POST_ACTIONS:
  1. Update epic step with architecture changes made
  2. Log specific updates in epic progress tracking
  3. MANDATORY: Execute cursor-rules-management.mdc post-update validation
```

### **VALIDATE_ARCHITECTURE_COMPLIANCE**
```
EXECUTION_STEPS:
  1. Check all architecture files â‰¤ 500 lines (300 for indexes)
  2. Verify metadata headers present on all files
  3. Validate cross-reference integrity
  4. Confirm domain organization compliance
  5. Check AI Instructions accuracy

ERROR_HANDLING:
  1. Size violations â†’ Split file following domain patterns
  2. Missing metadata â†’ Generate from AI Instructions
  3. Broken references â†’ Update or remove
  4. Misplaced files â†’ Move to correct domain
  5. Missing AI Instructions â†’ Generate from file purpose

REPORTING:
  1. Log compliance status in epic progress table
  2. Document any fixes applied
  3. Update architecture health metrics
```

## ğŸ“Š MANDATORY FILE STANDARDS (ENFORCED)

### **Metadata Header Template** (REQUIRED)
```yaml
---
description: [COPY EXACT TEXT FROM "WHEN TO USE" IN AI INSTRUCTIONS]
globs: 
alwaysApply: false
---
```
**MANDATORY COMPLIANCE**: Use cursor-rules-management.mdc architecture rule template EXACTLY
**CURSOR IDE REQUIREMENT**: Metadata MUST start on line 1, exactly 3 dashes, proper YAML format

### **AI CONTEXT DESCRIPTION Template** (MANDATORY)
```markdown
## ğŸ¤– AI CONTEXT DESCRIPTION
**WHEN TO USE**: [Specific triggers for AI to use this file]
**MANDATORY FOR**: [Specific scenarios where this file is required]
**PRIMARY FUNCTION**: [Main purpose and functionality of this file]
**CRITICAL**: [Critical information AI must understand about this file]
```
**ENFORCEMENT**: ALL architecture files MUST include this exact header format with all four fields

### **Index File Structure** (MANDATORY)
```markdown
# [Domain] Architecture Index
**ğŸ” Fast Lookup - [Domain] Files**

## ğŸ¤– AI Instructions
**When to use**: Navigate [domain] architecture - instant lookup for [specific scenarios]
**How to use**: Scan table â†’ identify file â†’ apply patterns
**Context**: Database-style index for [domain] architecture

## ğŸ“Š [DOMAIN] FILE INDEX

| **File** | **When to Use** | **Line Count** | **Contains** |
|----------|-----------------|----------------|--------------|
| file.mdc | Trigger description | ### lines | Content summary |

## âš¡ QUICK DECISION PATHS
[ASCII decision tree for common use cases]
```

## ğŸ—ï¸ DOMAIN-SPECIFIC STANDARDS (COMPREHENSIVE)

### **Platform Domains**

#### **Frontend Architecture** (`architecture/frontend/`)
**Common Files**:
- `components.mdc` - UI component patterns and design system integration
- `state-management.mdc` - Application state patterns (Redux, Context, etc.)
- `routing.mdc` - Navigation and routing architecture
- `performance.mdc` - Frontend optimization patterns and metrics
- `accessibility.mdc` - A11y compliance and implementation patterns
- `testing.mdc` - Frontend testing strategies (unit, integration, E2E)

#### **Backend Architecture** (`architecture/backend/`)
**Common Files**:
- `api-design.mdc` - REST/GraphQL API patterns and conventions
- `data-access.mdc` - Database access patterns and ORM usage
- `middleware.mdc` - Request processing and middleware patterns
- `authentication.mdc` - Auth patterns and security implementation
- `caching.mdc` - Caching strategies and implementation patterns
- `services.mdc` - Business logic and service layer patterns

#### **Mobile Architecture** (`architecture/mobile/`)
**Common Files**:
- `platform-patterns.mdc` - iOS/Android specific patterns
- `cross-platform.mdc` - React Native, Flutter, Xamarin patterns
- `offline-support.mdc` - Offline-first architecture and sync patterns
- `push-notifications.mdc` - Notification service integration patterns
- `app-store.mdc` - Deployment and release management patterns
- `device-integration.mdc` - Hardware integration patterns (camera, GPS, etc.)

#### **Desktop Architecture** (`architecture/desktop/`)
**Common Files**:
- `framework-patterns.mdc` - Electron, Qt, WPF, etc. patterns
- `system-integration.mdc` - OS-specific integration patterns
- `packaging.mdc` - Application packaging and distribution patterns
- `updates.mdc` - Auto-update and version management patterns
- `security.mdc` - Desktop security patterns and sandboxing
- `performance.mdc` - Memory and CPU optimization patterns

### **Data & Service Domains**

#### **Database Architecture** (`architecture/database/`)
**Common Files**:
- `schema-design.mdc` - Database schema patterns and normalization
- `migration.mdc` - Database migration strategies and versioning
- `indexing.mdc` - Index design and query optimization patterns
- `replication.mdc` - Database replication and clustering patterns
- `backup.mdc` - Backup and disaster recovery patterns
- `scaling.mdc` - Database scaling patterns (sharding, partitioning)

#### **API Architecture** (`architecture/api/`)
**Common Files**:
- `rest-patterns.mdc` - RESTful API design patterns and conventions
- `graphql-patterns.mdc` - GraphQL schema and resolver patterns
- `versioning.mdc` - API versioning strategies and migration patterns
- `documentation.mdc` - API documentation and testing patterns
- `rate-limiting.mdc` - Rate limiting and throttling patterns
- `error-handling.mdc` - API error response and handling patterns

#### **Integration Architecture** (`architecture/integration/`)
**Common Files**:
- `external-apis.mdc` - Third-party API integration patterns
- `webhooks.mdc` - Webhook implementation and handling patterns
- `message-queues.mdc` - Message queue and event-driven patterns
- `data-sync.mdc` - Data synchronization patterns between systems
- `etl-patterns.mdc` - Extract, Transform, Load patterns
- `event-sourcing.mdc` - Event sourcing and CQRS patterns

### **Operations & Quality Domains**

#### **Infrastructure Architecture** (`architecture/infrastructure/`)
**Common Files**:
- `deployment.mdc` - Deployment patterns and environment management
- `containerization.mdc` - Docker and Kubernetes patterns
- `networking.mdc` - Network architecture and service mesh patterns
- `storage.mdc` - Storage solutions and data persistence patterns
- `scalability.mdc` - Auto-scaling and load balancing patterns
- `disaster-recovery.mdc` - Backup and recovery strategy patterns

#### **Security Architecture** (`architecture/security/`)
**Common Files**:
- `authentication.mdc` - Identity and access management patterns
- `authorization.mdc` - Permission and role-based access patterns
- `encryption.mdc` - Data encryption and key management patterns
- `compliance.mdc` - Regulatory compliance patterns (GDPR, SOC2, etc.)
- `threat-modeling.mdc` - Security threat analysis patterns
- `penetration-testing.mdc` - Security testing and validation patterns

#### **Testing Architecture** (`architecture/testing/`)
**Common Files**:
- `test-strategies.mdc` - Testing pyramid and strategy patterns
- `automation.mdc` - CI/CD and test automation patterns
- `performance-testing.mdc` - Load and stress testing patterns
- `security-testing.mdc` - Security and vulnerability testing patterns
- `contract-testing.mdc` - API contract testing patterns
- `e2e-testing.mdc` - End-to-end testing patterns and frameworks

#### **Performance Architecture** (`architecture/performance/`)
**Common Files**:
- `optimization.mdc` - Code and system optimization patterns
- `profiling.mdc` - Performance profiling and analysis patterns
- `caching.mdc` - Caching strategies and implementation patterns
- `cdn.mdc` - Content delivery network patterns
- `database-optimization.mdc` - Database performance patterns
- `frontend-performance.mdc` - Frontend optimization patterns

#### **Monitoring Architecture** (`architecture/monitoring/`)
**Common Files**:
- `logging.mdc` - Structured logging and log management patterns
- `metrics.mdc` - Application and system metrics patterns
- `alerting.mdc` - Alert management and notification patterns
- `tracing.mdc` - Distributed tracing and observability patterns
- `dashboards.mdc` - Monitoring dashboard and visualization patterns
- `health-checks.mdc` - System health monitoring patterns

#### **Analytics Architecture** (`architecture/analytics/`)
**Common Files**:
- `data-collection.mdc` - User and system data collection patterns
- `reporting.mdc` - Business intelligence and reporting patterns
- `user-tracking.mdc` - User behavior tracking patterns
- `ab-testing.mdc` - A/B testing and experimentation patterns
- `data-pipeline.mdc` - Analytics data pipeline patterns
- `privacy.mdc` - Privacy-compliant analytics patterns

### **Domain Creation Guidelines**

#### **When to Create New Domain**
- **5+ Related Files**: When a topic accumulates 5+ architecture files
- **Distinct Concerns**: When topic has unique patterns not covered by existing domains
- **Cross-Platform Impact**: When patterns affect multiple platforms or systems
- **Specialized Expertise**: When domain requires specialized knowledge or tools

#### **Domain Organization Patterns**
```
architecture/[domain]/
â”œâ”€â”€ index.mdc                    # Domain navigation and quick lookup
â”œâ”€â”€ patterns.mdc                 # Core patterns specific to domain
â”œâ”€â”€ [platform-specific].mdc     # Platform/technology specific patterns
â”œâ”€â”€ integration.mdc              # How domain integrates with others
â””â”€â”€ [subdomain]/                 # Sub-folders when domain grows >5 files
    â”œâ”€â”€ index.mdc               # Sub-domain navigation
    â””â”€â”€ [specific-files].mdc    # Focused topic files
```

#### **Domain Index Template**
```markdown
# [Domain] Architecture Index
**ğŸ” Fast Lookup - [Domain] Files**

## ğŸ¤– AI CONTEXT DESCRIPTION
**WHEN TO USE**: [Domain-specific triggers and scenarios]
**MANDATORY FOR**: [Required usage scenarios for this domain]
**PRIMARY FUNCTION**: [Main purpose of this domain's architecture]
**CRITICAL**: [Critical domain-specific information]

## ğŸ“Š [DOMAIN] FILE INDEX
| **File** | **When to Use** | **Line Count** | **Contains** |
|----------|-----------------|----------------|--------------|
| patterns.mdc | All [domain] work | ### lines | Core [domain] patterns |

## âš¡ QUICK DECISION PATHS
[Domain-specific decision tree]

## ğŸ”— RELATED DOMAINS
- **Core Patterns**: Required foundation patterns
- **Security**: Security patterns for [domain]
- **Testing**: Testing strategies for [domain]
- **[Other domains]**: Integration points and dependencies
```

## ğŸ¯ EPIC INTEGRATION COMPLIANCE (MANDATORY)

### **BLUEPRINT Stage Architecture Requirements**
- âœ… **Core Patterns Consultation**: Read architecture/core/patterns.mdc
- âœ… **Domain Guidelines**: Access relevant domain-specific files
- âœ… **Decision Context**: Review architecture/decisions/ for ADRs
- âœ… **Impact Planning**: Document architecture changes needed in epic step
- âœ… **Compliance Check**: Validate approach against existing patterns

### **CONSTRUCT Stage Architecture Operations**
- âœ… **File Updates**: Update architecture files during implementation
- âœ… **Pattern Application**: Follow established architectural patterns exactly
- âœ… **New File Creation**: Create architecture files if new patterns needed
- âœ… **Index Maintenance**: Update domain indexes when files added
- âœ… **Cross-Reference Management**: Maintain link integrity during changes

### **VALIDATE Stage Architecture Verification**
- âœ… **Documentation Verification**: Confirm all architecture changes documented
- âœ… **Compliance Validation**: Check file sizes, metadata, organization
- âœ… **Pattern Consistency**: Verify implementation follows architecture patterns
- âœ… **Impact Accuracy**: Confirm epic step architecture impact documented correctly
- âœ… **Evolution Tracking**: Update architecture changelog if significant changes

### **Step Completion Architecture Finalization**
- âœ… **Change Archival**: Finalize all architecture updates from step
- âœ… **Index Updates**: Ensure domain indexes reflect current file structure
- âœ… **Decision Documentation**: Create ADRs for major architectural decisions
- âœ… **Epic Documentation**: Update epic with final architecture impact summary
- âœ… **Next Step Preparation**: Prepare architecture context for subsequent steps

## ğŸš¨ AI COMPLIANCE RULES (ZERO TOLERANCE)

### **File Size Enforcement** (AUTO-BLOCK)
- âŒ **Block creation** of files >500 lines (>300 for indexes)
- âŒ **Block edits** that would exceed size limits
- âœ… **Auto-suggest** file splitting when approaching limits
- âœ… **Provide patterns** for proper content distribution

### **Metadata Compliance** (AUTO-REPAIR)
- âŒ **Block creation** of architecture files without metadata
- âœ… **Auto-generate** metadata from AI Instructions when missing
- âœ… **Validate** metadata accuracy during epic stages
- âœ… **Sync** description with AI Instructions automatically

### **Epic Integration Enforcement** (MANDATORY)
- âŒ **Block epic BLUEPRINT** without architecture consultation
- âŒ **Block epic CONSTRUCT** without planned architecture updates
- âŒ **Block epic VALIDATE** without architecture compliance check
- âœ… **Auto-trigger** architecture operations during epic stages

### **Organization Compliance** (AUTO-CORRECT)
- âŒ **Block creation** outside architecture/ directory
- âŒ **Block incorrect** domain placement
- âœ… **Auto-suggest** correct location for new files
- âœ… **Auto-update** indexes when files added/moved

## ğŸ“‹ AI EXECUTION CHECKLIST

### **Before Architecture Work**
- [ ] Identify current epic step and architecture requirements
- [ ] Check file size limits for target files
- [ ] Verify domain placement for new files
- [ ] Prepare metadata headers for new files

### **During Architecture Updates**
- [ ] Follow established patterns from domain guidelines
- [ ] Maintain file size limits during edits
- [ ] Update cross-references when moving/creating files
- [ ] Document changes in epic step architecture impact

### **After Architecture Changes**
- [ ] Validate file size compliance
- [ ] Check metadata header accuracy
- [ ] Verify cross-reference integrity  
- [ ] Update epic progress with architecture changes completed

## ğŸ”— FRAMEWORK INTEGRATION POINTS

### **Epic Lifecycle Rules Integration**
- **BLUEPRINT**: Mandatory architecture consultation via this file
- **CONSTRUCT**: Architecture updates following this file's standards
- **VALIDATE**: Architecture compliance checking via this file
- **COMPLETION**: Architecture finalization following this file's procedures

### **User Rules Template Integration**
- **AI Instructions**: Reference this file during epic work
- **Architecture Updates**: Execute via this file's operation procedures
- **Compliance Checks**: Validate against this file's standards
- **Progress Tracking**: Document architecture work via this file's requirements

### **Epic Registry Integration**
- **Status Updates**: Include architecture compliance status
- **Progress Tracking**: Track architecture work completion
- **Portfolio Management**: Consider architecture impact in epic capacity
- **Completion Verification**: Require architecture compliance for step completion

## ğŸ“ COMPREHENSIVE DOMAIN ARCHITECTURE STRUCTURE

### **Recommended Directory Structure**
```
/.cursor/rules/rule-framework-v2/architecture/
â”œâ”€â”€ index.mdc                           # Master navigation (under 300 lines)
â”œâ”€â”€ core/                               # System-wide patterns
â”‚   â”œâ”€â”€ index.mdc                      # Core domain navigation
â”‚   â”œâ”€â”€ patterns.mdc                   # Mandatory patterns (under 500 lines)
â”‚   â””â”€â”€ maintenance.mdc                # Architecture maintenance automation
â”œâ”€â”€ decisions/                          # Architecture Decision Records
â”‚   â”œâ”€â”€ index.mdc                      # ADR navigation
â”‚   â”œâ”€â”€ adr-template.mdc               # ADR creation template
â”‚   â”œâ”€â”€ sample-decisions.mdc           # ADR examples and patterns
â”‚   â””â”€â”€ [topic]-decisions.mdc          # Specific decision records
â”œâ”€â”€ workflows/                          # Process integration patterns
â”‚   â”œâ”€â”€ index.mdc                      # Workflow navigation
â”‚   â””â”€â”€ [process].mdc                  # Specific workflow patterns
â”œâ”€â”€ frontend/                           # Web frontend architecture
â”‚   â”œâ”€â”€ index.mdc                      # Frontend navigation
â”‚   â”œâ”€â”€ components.mdc                 # UI component patterns
â”‚   â”œâ”€â”€ state-management.mdc           # State management patterns
â”‚   â”œâ”€â”€ routing.mdc                    # Navigation patterns
â”‚   â”œâ”€â”€ performance.mdc                # Frontend optimization
â”‚   â”œâ”€â”€ accessibility.mdc              # A11y patterns
â”‚   â””â”€â”€ testing.mdc                    # Frontend testing
â”œâ”€â”€ backend/                            # Server-side architecture
â”‚   â”œâ”€â”€ index.mdc                      # Backend navigation
â”‚   â”œâ”€â”€ api-design.mdc                 # API patterns
â”‚   â”œâ”€â”€ data-access.mdc                # Database access patterns
â”‚   â”œâ”€â”€ middleware.mdc                 # Request processing
â”‚   â”œâ”€â”€ authentication.mdc             # Auth implementation
â”‚   â”œâ”€â”€ caching.mdc                    # Caching strategies
â”‚   â””â”€â”€ services.mdc                   # Business logic patterns
â”œâ”€â”€ mobile/                             # Mobile application architecture
â”‚   â”œâ”€â”€ index.mdc                      # Mobile navigation
â”‚   â”œâ”€â”€ platform-patterns.mdc          # iOS/Android patterns
â”‚   â”œâ”€â”€ cross-platform.mdc             # React Native/Flutter
â”‚   â”œâ”€â”€ offline-support.mdc            # Offline-first patterns
â”‚   â”œâ”€â”€ push-notifications.mdc         # Notification patterns
â”‚   â”œâ”€â”€ app-store.mdc                  # Release management
â”‚   â””â”€â”€ device-integration.mdc         # Hardware integration
â”œâ”€â”€ desktop/                            # Desktop application architecture
â”‚   â”œâ”€â”€ index.mdc                      # Desktop navigation
â”‚   â”œâ”€â”€ framework-patterns.mdc         # Electron/Qt/WPF patterns
â”‚   â”œâ”€â”€ system-integration.mdc         # OS integration
â”‚   â”œâ”€â”€ packaging.mdc                  # App packaging
â”‚   â”œâ”€â”€ updates.mdc                    # Auto-update patterns
â”‚   â”œâ”€â”€ security.mdc                   # Desktop security
â”‚   â””â”€â”€ performance.mdc                # Optimization patterns
â”œâ”€â”€ database/                           # Database architecture
â”‚   â”œâ”€â”€ index.mdc                      # Database navigation
â”‚   â”œâ”€â”€ schema-design.mdc              # Schema patterns
â”‚   â”œâ”€â”€ migration.mdc                  # Migration strategies
â”‚   â”œâ”€â”€ indexing.mdc                   # Query optimization
â”‚   â”œâ”€â”€ replication.mdc                # Clustering patterns
â”‚   â”œâ”€â”€ backup.mdc                     # Disaster recovery
â”‚   â””â”€â”€ scaling.mdc                    # Scaling patterns
â”œâ”€â”€ api/                                # API and service architecture
â”‚   â”œâ”€â”€ index.mdc                      # API navigation
â”‚   â”œâ”€â”€ rest-patterns.mdc              # RESTful patterns
â”‚   â”œâ”€â”€ graphql-patterns.mdc           # GraphQL patterns
â”‚   â”œâ”€â”€ versioning.mdc                 # API versioning
â”‚   â”œâ”€â”€ documentation.mdc              # API documentation
â”‚   â”œâ”€â”€ rate-limiting.mdc              # Rate limiting
â”‚   â””â”€â”€ error-handling.mdc             # Error patterns
â”œâ”€â”€ integration/                        # System integration architecture
â”‚   â”œâ”€â”€ index.mdc                      # Integration navigation
â”‚   â”œâ”€â”€ external-apis.mdc              # Third-party APIs
â”‚   â”œâ”€â”€ webhooks.mdc                   # Webhook patterns
â”‚   â”œâ”€â”€ message-queues.mdc             # Event-driven patterns
â”‚   â”œâ”€â”€ data-sync.mdc                  # Data synchronization
â”‚   â”œâ”€â”€ etl-patterns.mdc               # ETL patterns
â”‚   â””â”€â”€ event-sourcing.mdc             # Event sourcing/CQRS
â”œâ”€â”€ infrastructure/                     # Infrastructure architecture
â”‚   â”œâ”€â”€ index.mdc                      # Infrastructure navigation
â”‚   â”œâ”€â”€ deployment.mdc                 # Deployment patterns
â”‚   â”œâ”€â”€ containerization.mdc           # Docker/Kubernetes
â”‚   â”œâ”€â”€ networking.mdc                 # Network architecture
â”‚   â”œâ”€â”€ storage.mdc                    # Storage patterns
â”‚   â”œâ”€â”€ scalability.mdc                # Auto-scaling
â”‚   â””â”€â”€ disaster-recovery.mdc          # Recovery patterns
â”œâ”€â”€ security/                           # Security architecture
â”‚   â”œâ”€â”€ index.mdc                      # Security navigation
â”‚   â”œâ”€â”€ authentication.mdc             # Identity management
â”‚   â”œâ”€â”€ authorization.mdc              # Access control
â”‚   â”œâ”€â”€ encryption.mdc                 # Data protection
â”‚   â”œâ”€â”€ compliance.mdc                 # Regulatory compliance
â”‚   â”œâ”€â”€ threat-modeling.mdc            # Security analysis
â”‚   â””â”€â”€ penetration-testing.mdc        # Security testing
â”œâ”€â”€ testing/                            # Testing architecture
â”‚   â”œâ”€â”€ index.mdc                      # Testing navigation
â”‚   â”œâ”€â”€ test-strategies.mdc            # Testing pyramid
â”‚   â”œâ”€â”€ automation.mdc                 # CI/CD testing
â”‚   â”œâ”€â”€ performance-testing.mdc        # Load testing
â”‚   â”œâ”€â”€ security-testing.mdc           # Security validation
â”‚   â”œâ”€â”€ contract-testing.mdc           # API contracts
â”‚   â””â”€â”€ e2e-testing.mdc                # End-to-end testing
â”œâ”€â”€ performance/                        # Performance architecture
â”‚   â”œâ”€â”€ index.mdc                      # Performance navigation
â”‚   â”œâ”€â”€ optimization.mdc               # Code optimization
â”‚   â”œâ”€â”€ profiling.mdc                  # Performance analysis
â”‚   â”œâ”€â”€ caching.mdc                    # Caching strategies
â”‚   â”œâ”€â”€ cdn.mdc                        # Content delivery
â”‚   â”œâ”€â”€ database-optimization.mdc      # DB performance
â”‚   â””â”€â”€ frontend-performance.mdc       # Frontend optimization
â”œâ”€â”€ monitoring/                         # Monitoring architecture
â”‚   â”œâ”€â”€ index.mdc                      # Monitoring navigation
â”‚   â”œâ”€â”€ logging.mdc                    # Log management
â”‚   â”œâ”€â”€ metrics.mdc                    # System metrics
â”‚   â”œâ”€â”€ alerting.mdc                   # Alert management
â”‚   â”œâ”€â”€ tracing.mdc                    # Distributed tracing
â”‚   â”œâ”€â”€ dashboards.mdc                 # Visualization
â”‚   â””â”€â”€ health-checks.mdc              # Health monitoring
â””â”€â”€ analytics/                          # Analytics architecture
    â”œâ”€â”€ index.mdc                      # Analytics navigation
    â”œâ”€â”€ data-collection.mdc            # Data collection
    â”œâ”€â”€ reporting.mdc                  # BI reporting
    â”œâ”€â”€ user-tracking.mdc              # User behavior
    â”œâ”€â”€ ab-testing.mdc                 # Experimentation
    â”œâ”€â”€ data-pipeline.mdc              # Analytics pipeline
    â””â”€â”€ privacy.mdc                    # Privacy compliance
```

### **Domain Growth Management**
- **Sub-domain Creation**: When domain reaches 8+ files, create sub-directories
- **Index Management**: Each sub-directory requires its own index.mdc
- **Cross-References**: Maintain navigation links between related domains
- **Specialized Domains**: Create custom domains for project-specific needs

### **Domain Dependencies**
```
CORE â†’ All other domains (mandatory foundation)
DECISIONS â†’ Referenced by all domains for architectural choices
SECURITY â†’ Integrated into all platform and service domains
TESTING â†’ Covers all domains with specific testing strategies
PERFORMANCE â†’ Cross-cuts all domains with optimization patterns
MONITORING â†’ Observes all domains with metrics and logging
```

---

**AI ENFORCEMENT**: Automatic execution during epic stages with zero-tolerance compliance
**EPIC INTEGRATION**: Seamless workflow with epic-lifecycle-rules.mdc and user-rules-template.mdc
**FRAMEWORK COMPLIANCE**: Mandatory standards for all architecture documentation and evolution
**DOMAIN SUPPORT**: Comprehensive coverage for modern software architecture domains


**Last Updated**: 2025-01-27  
**Framework Status**: âœ… PRODUCTION READY  
**AI Compliance**: MANDATORY for all architecture work
